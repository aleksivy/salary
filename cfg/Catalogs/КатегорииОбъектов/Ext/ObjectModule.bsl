////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ

// Обработчик события ПередЗаписью объекта.
//
Процедура ПередЗаписью(Отказ)

	Если НЕ ОбменДанными.Загрузка
	   И НЕ ЭтоНовый() 
	   И НазначениеКатегории <> Ссылка.НазначениеКатегории 
	   И ПолныеПрава.Категории_СуществуютСсылки(Ссылка) Тогда

		Сообщить(НСтр("ru='Существуют объекты, которым назначена категория ""';uk='Існують об''єкти, яким призначена категорія ""'") + Наименование + НСтр("ru='""."
"Назначение категории не может быть изменено.';uk='""."
"Призначення категорії не може бути змінено.'"), 
		         СтатусСообщения.Внимание);

		Отказ = Истина;
	КонецЕсли;

КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// ЭКСПОРТИРУЕМЫЕ ПРОЦЕДУРЫ И ФУНКЦИИ

