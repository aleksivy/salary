<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta http-equiv="content-type" content="text/html;charset=utf-8"></meta><link href="v8help://service_book/service_style" type="text/css" rel="stylesheet"></link><meta content="MSHTML 6.00.6000.16481" name="GENERATOR"></meta></head><body>
<h1 class="">Документ "Корректировка записей регистров"</h1>
<p class="Usual">Документ предназначен для ручной корректировки записей регистров накопления, сведений и для ввода остатков.</p>
<p class="Usual">По кнопке <strong class="ControlElement">Настройка состава регистров</strong> верхней командной панели формы открывается форма настройки состава регистров. Флажками отмечаются те регистры, записи по которым планируется ввести.</p>
<p class="Usual">В форме документа появляются закладки, соответствующие выбранным регистрам. В табличные поля на закладках вводятся необходимые данные. Табличные поля поддерживают <a href="v8help://frame/formy%20-%20rabota%20s%20tablichnym%20polem"><strong class="ControlElement"><font color="#0000ff">множественное выделение строк</font></strong></a>. </p>
<p class="Usual">Документ содержит сервис автоматического заполнения движений. Сервис подключается при установке флажка <strong class="ControlElement">Использовать заполнение движений</strong> на закладке <strong class="ControlElement">Заполнение движений</strong>. При этом становится видимым табличное поле <strong class="ControlElement">Заполнение движений</strong>, где указываются выполняемые действия, документы, на основании которых они выполняются, и примечания. </p>
<ul><li>
<div class="">Колонка <strong class="ControlElement">Действие</strong> обязательно должна быть заполнена. Действия могут быть предопределенными (включенными в состав типового решения) и подключаемыми (внешними обработками). В состав предопределенных действий включено <strong class="ControlElement">Сторно движений документа</strong> — создаются движения по регистрам накопления и регистрам бухгалтерии, аналогичные движениям указанного документа, но с отрицательными значениями. Если сторнируемый документ имеет движения по регистрам сведений или регистрам расчета, эти движения будут проигнорированы.</div>
</li><li>
<div class="">Колонка <strong class="ControlElement">Документ</strong> может быть не заполнена, если она не требуется для выполнения указанного действия.</div>
</li><li>
<div class="">При нажатии на кнопку <strong class="ControlElement">Заполнить движения</strong> для каждой строки табличного поля <strong class="ControlElement">Заполнение движений</strong> выполняются указанные действия и, при необходимости, заполняются движения регистров накопления, регистров сведений и регистров бухгалтерии. Заполненные движения регистров отображаются на соответствующих закладках.</div>
</li><li>
<div class="">После заполнения движения можно отредактировать или удалить.</div>
</li><li>
<div class="">При повторном нажатии на кнопку <strong class="ControlElement">Заполнить движения</strong> задается вопрос об очистке уже существующих движений регистров. В случае положительного ответа созданные документы очищаются и движения заполняются заново.</div></li></ul><h2 class="">Подключение внешних обработок</h2>
<p class="Usual">Подключаемое действие представляет собой внешнюю обработку, которая подключается через справочник <strong class="ControlElement">Дополнительные внешние обработки по заполнению табличных частей. </strong>В модуле обработки обязательно должна присутствовать экспортная процедура </p>
<p class="Usual"><strong>Инициализировать</strong>(<strong>ОбрабатываемыйДокумент, КорректировкаЗаписейРегистров, ДействиеНеВыполнено</strong>)<strong>Экспорт</strong>  </p>
<p class="Usual">  где:</p>
<ul><li>
<div class=""><strong class="ControlElement">ОбрабатываемыйДокумент</strong> — ссылка на документ, на основании движений которого будут создаваться корректирующие движения;</div>
</li><li>
<div class=""><strong class="ControlElement">КорректировкаЗаписейРегистров</strong> — документ-объект <strong class="ControlElement">Корректировка записей регистров</strong>, в который необходимо добавлять корректирующие движения по регистрам накопления, регистрам сведений и регистрам бухгалтерии;</div>
</li><li>
<div class=""><strong class="ControlElement">ДействиеНеВыполнено</strong> — переменная, которая устанавливается в значение <strong class="ControlElement">Истина</strong> при возврате из действия до его завершения. Пользователю при этом выдается сообщение с номером строки табличного поля <strong class="ControlElement">Заполнение движений</strong>, для которой не выполнено действие.</div></li></ul><p class="Important"><strong class="ControlElement">Примечание.</strong> В табличном поле <strong class="ControlElement">Заполнение движений</strong> не обязательно указывать обрабатываемый документ (например, для алгоритмов, создающих движения регистров не на основании данных документов). Поэтому контроль заполнения обрабатываемого документа необходимо проводить непосредственно в модуле внешней обработки.</p>
<p class="Usual"><br></p></body></html>